{% extends "base.html" %}

{% block title %}Insights · Game Backlog Companion{% endblock %}

{% block content %}
<section class="insights" data-insights-root>
  <header class="insights__header">
    <h1>Insights Dashboard</h1>
    <p>Explore backlog trends, activity streaks, and upcoming priorities at a glance.</p>
  </header>

  <section class="insights__cards" aria-label="Key metrics">
    <article class="insights-card" data-insights-metric="backlog" data-placeholder-text="Backlog total will appear here">
      <h2>Total Backlog</h2>
      <p class="insights-card__value" data-placeholder-text="0 games">0 games</p>
      <p class="insights-card__meta">Track how many titles remain unbeaten.</p>
    </article>

    <article class="insights-card" data-insights-metric="wishlist" data-placeholder-text="Wishlist total will appear here">
      <h2>Wishlist Size</h2>
      <p class="insights-card__value" data-placeholder-text="0 titles">0 titles</p>
      <p class="insights-card__meta">Monitor the games you are considering picking up next.</p>
    </article>

    <article class="insights-card" data-insights-metric="playtime" data-placeholder-text="Recent playtime will appear here">
      <h2>Recent Playtime</h2>
      <p class="insights-card__value" data-placeholder-text="0 hours">0 hours</p>
      <p class="insights-card__meta">Surface your latest sessions and engagement streaks.</p>
    </article>

    <article class="insights-card" data-lifecycle-metric="avg-to-start" data-placeholder-text="Average days to start will appear here">
      <h2>Avg Days to Start</h2>
      <p class="insights-card__value" data-placeholder-text="0 days">0 days</p>
      <p class="insights-card__meta">Time between purchasing a game and beginning your first session.</p>
    </article>

    <article class="insights-card" data-lifecycle-metric="avg-to-finish" data-placeholder-text="Average days to finish will appear here">
      <h2>Avg Days to Finish</h2>
      <p class="insights-card__value" data-placeholder-text="0 days">0 days</p>
      <p class="insights-card__meta">How long it typically takes to complete a game once started.</p>
    </article>

    <article class="insights-card" data-lifecycle-metric="avg-purchase-to-finish" data-placeholder-text="Average days purchase to finish will appear here">
      <h2>Avg Purchase → Finish</h2>
      <p class="insights-card__value" data-placeholder-text="0 days">0 days</p>
      <p class="insights-card__meta">Overall span from picking up a title to rolling credits.</p>
    </article>
  </section>

  <section class="insights__charts" aria-label="Trend visualizations">
    <div class="insights-chart insights-chart--wide" data-insights-chart="engagement" data-placeholder-text="Engagement timeline will render here">
      <header class="insights-chart__header">
        <div class="insights-chart__intro">
          <h2>Engagement Timeline</h2>
          <p>Contrast total playtime and mood to spot sustained momentum or burnout risk.</p>
        </div>
        <div class="insights-chart__controls" data-engagement-controls>
          <label class="insights-chart__control">
            <span>View</span>
            <select data-engagement-filter="period" aria-label="Select engagement period">
              <option value="day">Daily</option>
              <option value="week">Weekly</option>
              <option value="month" selected>Monthly</option>
            </select>
          </label>
          <label class="insights-chart__control">
            <span>Range</span>
            <select data-engagement-filter="range" aria-label="Select engagement range">
              <option value="6m">Last 6 months</option>
              <option value="12m" selected>Last 12 months</option>
              <option value="24m">Last 24 months</option>
            </select>
          </label>
        </div>
      </header>
      <div class="insights-chart__canvas" role="img" aria-label="Engagement timeline pending" data-placeholder-text="Awaiting data"></div>
    </div>

    <div class="insights-chart" data-insights-chart="completion" data-placeholder-text="Completion trends chart will render here">
      <header>
        <h2>Completion Velocity</h2>
        <p>Visualize how frequently backlog entries are being finished.</p>
      </header>
      <div class="insights-chart__canvas" role="img" aria-label="Completion trends pending" data-placeholder-text="Awaiting data"></div>
    </div>

    <div class="insights-chart" data-insights-chart="genre" data-placeholder-text="Genre distribution chart will render here">
      <header>
        <h2>Genre Mix</h2>
        <p>Spot which genres dominate your lists and switch between raw counts and weighted metrics for context.</p>
      </header>
      <div class="insights-chart__canvas" role="img" aria-label="Genre distribution pending" data-placeholder-text="Awaiting data"></div>
    </div>

    <div class="insights-chart" data-insights-chart="genre-sentiment" data-placeholder-text="Sentiment chart will render here">
      <header>
        <h2>Interest vs Enjoyment</h2>
        <p>Compare hype (ELO) against weighted session sentiment to surface genres where excitement outpaces satisfaction.</p>
      </header>
      <div class="insights-chart__canvas" role="img" aria-label="Genre sentiment pending" data-placeholder-text="Awaiting data"></div>
    </div>
  </section>

  <section class="insights__callouts" aria-label="Engagement highlights">
    <header>
      <h2>Engagement Highlights</h2>
      <p>We surface notable spikes or dips so you can celebrate momentum or rebalance your queue.</p>
    </header>
    <div class="insights-callouts__list" data-insights-callouts data-placeholder-text="Highlights will appear once enough play sessions are logged."></div>
  </section>

  <section class="insights__lifecycle" aria-label="Lifecycle analytics">
    <header>
      <h2>Lifecycle Benchmarks</h2>
      <p>Understand how quickly games move from purchase to credits and where bottlenecks form.</p>
    </header>

    <div class="insights__cards insights__cards--lifecycle" aria-label="Lifecycle summary metrics">
      <article class="insights-card insights-card--compact" data-lifecycle-highlight="median-to-start" data-placeholder-text="Median days to start will appear here">
        <h3>Median Days to Start</h3>
        <p class="insights-card__value" data-placeholder-text="0 days">0 days</p>
        <p class="insights-card__meta">Half of your started games kicked off within this window.</p>
      </article>

      <article class="insights-card insights-card--compact" data-lifecycle-highlight="p75-to-start" data-placeholder-text="Percentile range will appear here">
        <h3>75% Start Within</h3>
        <p class="insights-card__value" data-placeholder-text="0 days">0 days</p>
        <p class="insights-card__meta">Three out of four games begin by this point after purchase.</p>
      </article>

      <article class="insights-card insights-card--compact" data-lifecycle-highlight="median-to-finish" data-placeholder-text="Median days to finish will appear here">
        <h3>Median Start → Finish</h3>
        <p class="insights-card__value" data-placeholder-text="0 days">0 days</p>
        <p class="insights-card__meta">Typical span between booting up and finishing a title.</p>
      </article>
    </div>

    <div class="insights__tables">
      <article class="insights-table" data-lifecycle-table="durations">
        <header>
          <h3>Lifecycle Timing Distribution</h3>
          <p>Compare medians, typical ranges, and long-tail waits for each stage.</p>
        </header>
        <div class="insights-table__content" data-placeholder-text="Lifecycle timing statistics will appear here when enough data is available."></div>
      </article>

      <article class="insights-table" data-lifecycle-table="aging-backlog">
        <header>
          <h3>Aging Backlog Watchlist</h3>
          <p>Oldest unstarted purchases so you can prioritize what to play next.</p>
        </header>
        <div class="insights-table__content" data-placeholder-text="Backlog items that haven't been started yet will appear here."></div>
      </article>
    </div>
  </section>

  <section class="insights__notes" aria-label="Next actions">
    <h2>Next Actions</h2>
    <p data-placeholder-text="Actionable recommendations will appear here when insights are available.">
      Recommendations will appear here once insights data is connected.
    </p>
  </section>
</section>
{% endblock %}
